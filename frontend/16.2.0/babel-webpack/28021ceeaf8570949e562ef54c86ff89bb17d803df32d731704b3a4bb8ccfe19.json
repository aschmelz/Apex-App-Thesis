{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core'; // Must import OnInit to have before page load\nexport let ProductsComponent = class ProductsComponent {\n  constructor(http) {\n    this.http = http;\n    // To connect to express\n    this.apiUrl = 'http://localhost:3000/';\n    // Store data from database in variable apiResponse\n    this.apiResponse = \"\";\n    this.filterVisible = false;\n  }\n  // Load Products from MongoDB on page load\n  ngOnInit() {\n    this.http.get(this.apiUrl).subscribe(data => {\n      //console.log(data);\n      this.apiResponse = data;\n    });\n  }\n  // Filter object items from search input\n  filterItems(product) {\n    const filterObj = {\n      name: product\n    };\n    this.http.get(this.apiUrl + 'searchTerm?filter=' + JSON.stringify(filterObj)).subscribe(data => {\n      console.log(JSON.stringify(filterObj));\n      //console.log(data);\n      this.apiResponse = data;\n    });\n  }\n  // Function to Delete a product\n  deleteProduct(product) {\n    this.http.delete(this.apiUrl + product).subscribe(result => {\n      //console.log(result);\n      this.ngOnInit(); // call ngOnInit() to show deletion w/o reloading page\n      // ************************ QUESTION: how to use new Promise in general ************************\n    });\n  }\n\n  editProduct(productId) {\n    // Receive name/price changes from user through a window prompt\n    let newName = prompt(\"Enter value for NAME:\");\n    let newPrice = prompt(\"Enter value for PRICE:\");\n    // Valdiation for input to edit name/price\n    while (!newName) {\n      newName = prompt(\"Enter value for NAME:\");\n    }\n    while (!newPrice) {\n      newPrice = prompt(\"Enter value for PRICE:\");\n    }\n    // the obj inside put() is to change the name/price of the object in mongo, to the new one from the user's input\n    this.http.put(this.apiUrl + productId, {\n      name: newName,\n      price: newPrice\n    }).subscribe(() => {\n      //console.log(this.apiUrl + product, product);\n      this.ngOnInit(); // call ngOnInit() to show deletion w/o reloading page\n    });\n  }\n};\n\nProductsComponent = __decorate([Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})], ProductsComponent);","map":{"version":3,"names":["Component","ProductsComponent","constructor","http","apiUrl","apiResponse","filterVisible","ngOnInit","get","subscribe","data","filterItems","product","filterObj","name","JSON","stringify","console","log","deleteProduct","delete","result","editProduct","productId","newName","prompt","newPrice","put","price","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\node\\apex\\apex-app\\src\\app\\products\\products.component.ts"],"sourcesContent":["import { OnInit, Component } from '@angular/core';                                      // Must import OnInit to have before page load\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\n\nexport class ProductsComponent implements OnInit {                                      // Need to have \"implements OnInit\" to load before page load\n  // To connect to express\n  private apiUrl = 'http://localhost:3000/';\n  constructor(private http: HttpClient) {}\n\n  // Store data from database in variable apiResponse\n  apiResponse: any = \"\";\n\n  // Load Products from MongoDB on page load\n  ngOnInit() {\n    this.http.get(this.apiUrl).subscribe((data:any) => {\n      //console.log(data);\n      this.apiResponse = data;\n    });\n  }\n  \n  // Filter object items from search input\n  filterItems(product: string) {\n    const filterObj = {\n      name: product\n    }\n\n    this.http.get(this.apiUrl + 'searchTerm?filter=' + JSON.stringify(filterObj)).subscribe((data: any) => {\n      console.log(JSON.stringify(filterObj));\n      //console.log(data);\n      this.apiResponse = data;\n    });\n  }\n\n  filterVisible = false;\n\n  // Function to Delete a product\n  deleteProduct(product: any) {\n    this.http.delete(this.apiUrl + product).subscribe(result => {\n      //console.log(result);\n      this.ngOnInit();                                // call ngOnInit() to show deletion w/o reloading page\n      \n      // ************************ QUESTION: how to use new Promise in general ************************\n    });\n  }\n\n  editProduct(productId: string) {\n    // Receive name/price changes from user through a window prompt\n    let newName = prompt(\"Enter value for NAME:\");\n    let newPrice = prompt(\"Enter value for PRICE:\");\n\n    // Valdiation for input to edit name/price\n    while (!newName) {\n      newName = prompt(\"Enter value for NAME:\");\n    }\n    while (!newPrice) {\n      newPrice = prompt(\"Enter value for PRICE:\");\n    }\n    \n    // the obj inside put() is to change the name/price of the object in mongo, to the new one from the user's input\n    this.http.put(this.apiUrl + productId, { name: newName, price: newPrice }).subscribe(() => {\n      //console.log(this.apiUrl + product, product);\n      this.ngOnInit();  // call ngOnInit() to show deletion w/o reloading page\n    })\n  }\n\n}"],"mappings":";AAAA,SAAiBA,SAAS,QAAQ,eAAe,CAAC,CAAsC;AASjF,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAG5BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFxB;IACQ,KAAAC,MAAM,GAAG,wBAAwB;IAGzC;IACA,KAAAC,WAAW,GAAQ,EAAE;IAuBrB,KAAAC,aAAa,GAAG,KAAK;EA1BkB;EAKvC;EACAC,QAAQA,CAAA;IACN,IAAI,CAACJ,IAAI,CAACK,GAAG,CAAC,IAAI,CAACJ,MAAM,CAAC,CAACK,SAAS,CAAEC,IAAQ,IAAI;MAChD;MACA,IAAI,CAACL,WAAW,GAAGK,IAAI;IACzB,CAAC,CAAC;EACJ;EAEA;EACAC,WAAWA,CAACC,OAAe;IACzB,MAAMC,SAAS,GAAG;MAChBC,IAAI,EAAEF;KACP;IAED,IAAI,CAACT,IAAI,CAACK,GAAG,CAAC,IAAI,CAACJ,MAAM,GAAG,oBAAoB,GAAGW,IAAI,CAACC,SAAS,CAACH,SAAS,CAAC,CAAC,CAACJ,SAAS,CAAEC,IAAS,IAAI;MACpGO,OAAO,CAACC,GAAG,CAACH,IAAI,CAACC,SAAS,CAACH,SAAS,CAAC,CAAC;MACtC;MACA,IAAI,CAACR,WAAW,GAAGK,IAAI;IACzB,CAAC,CAAC;EACJ;EAIA;EACAS,aAAaA,CAACP,OAAY;IACxB,IAAI,CAACT,IAAI,CAACiB,MAAM,CAAC,IAAI,CAAChB,MAAM,GAAGQ,OAAO,CAAC,CAACH,SAAS,CAACY,MAAM,IAAG;MACzD;MACA,IAAI,CAACd,QAAQ,EAAE,CAAC,CAAgC;MAEhD;IACF,CAAC,CAAC;EACJ;;EAEAe,WAAWA,CAACC,SAAiB;IAC3B;IACA,IAAIC,OAAO,GAAGC,MAAM,CAAC,uBAAuB,CAAC;IAC7C,IAAIC,QAAQ,GAAGD,MAAM,CAAC,wBAAwB,CAAC;IAE/C;IACA,OAAO,CAACD,OAAO,EAAE;MACfA,OAAO,GAAGC,MAAM,CAAC,uBAAuB,CAAC;;IAE3C,OAAO,CAACC,QAAQ,EAAE;MAChBA,QAAQ,GAAGD,MAAM,CAAC,wBAAwB,CAAC;;IAG7C;IACA,IAAI,CAACtB,IAAI,CAACwB,GAAG,CAAC,IAAI,CAACvB,MAAM,GAAGmB,SAAS,EAAE;MAAET,IAAI,EAAEU,OAAO;MAAEI,KAAK,EAAEF;IAAQ,CAAE,CAAC,CAACjB,SAAS,CAAC,MAAK;MACxF;MACA,IAAI,CAACF,QAAQ,EAAE,CAAC,CAAE;IACpB,CAAC,CAAC;EACJ;CAED;;AA7DYN,iBAAiB,GAAA4B,UAAA,EAN7B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EAEW/B,iBAAiB,CA6D7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}